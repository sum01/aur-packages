# Maintainer: Sum1
pkgbase=('vcash')
pkgname=('vcash' 'vcash-electron')
pkgver=0.6.0.3
pkgrel=1
pkgdesc="A decentralized currency for the internet and a multi-platform/multi-node GUI."
arch=('x86_64')
url="https://github.com/openvcash/vcash"
license=('AGPL3' 'GPL3')
depends=('openssl' 'db' 'boost' 'nodejs' 'npm')
makedepends=('git' 'screen' 'curl' 'gcc<=5.3.0-5') # Remove version from GCC when this issue is fixed: https://github.com/openvcash/vcash/issues/14
source=("https://github.com/openvcash/vcash/archive/${pkgver}.tar.gz" "https://github.com/whphhg/vcash-electron.git")
sha256sums=('7b67e98bb250b8e6c03462f31f403a8ffb5a84366c86bf7f05bd0bd3ab03617b' 'SKIP') # SKIP is added for vcash-electron because it does not have snapshots yet

package_vcash() {
	backup=("~/vcash/backups/")

	# This is where CMake would go, if this merge request ever gets commited: https://github.com/openvcash/vcash/pull/4
	# I'll get back to this later, although it might be mostly unnecessary if that pull is ever merged
}

package_vcash-electron() {
  mkdir -p $pkgdir/vcash/ # this needs to be looked at later, as it will not work
 	cp -r $srcdir/$pkgname $pkgdir/vcash/electron-gui
	cd $pkgdir/vcash/electron-gui/vcash-electron # currently this cd doesn't work
	npm install
	# remember to add /usr/share/application .desktop file pointing to 'npm run ui' in ~/vcash/electron-gui
}
