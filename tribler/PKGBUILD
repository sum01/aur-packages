# Maintainer: Sum1 https://github.com/sum01
pkgname=tribler
pkgver=7.0.0_rc2
pkgrel=2
pkgdesc="Privacy enhanced BitTorrent client with P2P content discovery."
url="https://github.com/Tribler/tribler"
arch=('i686' 'x86_64')
license=('LGPL3')
depends=('libsodium' 'libtorrent-rasterbar' 'python2-pyqt5' 'qt5-svg' 'phonon-qt5-vlc' 'python2-apsw' 'python2-cherrypy' 'python2-cryptography' 'python2-decorator' 'python2-feedparser' 'python2-chardet' 'python2-m2crypto' 'python2-netifaces' 'python2-plyvel' 'python2-requests' 'python2-twisted' 'python2-configobj' 'python2-matplotlib')
backup=('usr/share/tribler/Tribler/Test/API/ec.pub' 'usr/share/tribler/Tribler/Test/API/ecpub.pem')
source=("https://github.com/Tribler/tribler/releases/download/v${pkgver//_/-}/Tribler-v${pkgver//_/-}.tar.xz")
sha256sums=('c253b01cbe118252cf858ddc31d239810afb186b28889a2d9c8589c299189b72')

package() {
  mkdir -p $pkgdir/usr/{bin,share/{applications,pixmaps}}/
  cp -r $srcdir/tribler $pkgdir/usr/share/
  cp -r $srcdir/tribler/debian/bin/tribler $pkgdir/usr/bin/
  cp $srcdir/tribler/Tribler/Main/Build/Ubuntu/tribler.desktop ${pkgdir}/usr/share/applications/
  cp $srcdir/tribler/Tribler/Main/Build/Ubuntu/tribler.xpm ${pkgdir}/usr/share/pixmaps/
  cp $srcdir/tribler/Tribler/Main/Build/Ubuntu/tribler_big.xpm ${pkgdir}/usr/share/pixmaps/
}
